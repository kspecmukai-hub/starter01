<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>starter01 | Camera Base</title>
  <style>
    :root{ --ui-fg:#fff; --ui-accent:#4ade80; }
    *{ box-sizing:border-box }
    html,body{ height:100%; margin:0 }
    body{ background:#000; color:var(--ui-fg); font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif }
    #stage{ position:relative; width:100vw; height:100vh; overflow:hidden; background:#000 }
    #video{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
    .mirror{ transform: scaleX(-1); }
    #garment{
      position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
      display:none; pointer-events:none; opacity:0; transition:opacity .22s ease;
      will-change:left, top, width, opacity, filter;
    }

    /* PCã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆQRï¼‰ */
    #pcOnly{ position:absolute; inset:0; display:none; place-items:center; color:#fff; padding:24px; text-align:center; }
    #pcOnly .card{ background:transparent; padding:22px 24px; border-radius:16px; border:1px solid rgba(255,255,255,.25) }
    #pcOnly h1{ margin:0 0 10px; font-size:20px; }
    #pcOnly p{ margin:8px 0; opacity:.95; line-height:1.6; }
    #pcOnly .qr{ width:240px; max-width:60vw; margin:14px auto 6px; display:block; background:#fff; padding:10px; border-radius:10px; }

    /* ã‚¹ã‚¿ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ï¼šæ–‡è¨€ã¯å·¦å¯„ã›ã€ãƒœã‚¿ãƒ³ã¯ä¸­å¤® */
    #startScreen{ position:absolute; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.45); }
    #startCard{ background:transparent; color:#fff; padding:24px 28px; border-radius:16px; border:1px solid rgba(255,255,255,.25) }
    #startCard h1{ margin:0 0 10px; font-size:22px; }
    #startCard p{ margin:10px 0 14px; line-height:1.7; opacity:.95; text-align:left; }
    #startBtn{ display:block; margin:12px auto 0; }  /* ãƒœã‚¿ãƒ³ä¸­å¤® */

    .btn{ appearance:none; border:0; border-radius:10px; padding:12px 16px; font-weight:700; cursor:pointer; }
    .btn.primary{ background:var(--ui-accent); color:#053; }
    .btn.ghost{ background:rgba(255,255,255,.12); color:#fff; }

    #panel{
      position:absolute; right:18px; bottom:86px; width:320px; max-width:92vw;
      background:transparent; color:#fff; border-radius:16px; padding:8px 10px; display:none;
      border:1px solid rgba(255,255,255,.25);
    }
    #panel.open{ display:block; }
    #panel h2{ font-size:14px; margin:4px 0 8px; opacity:.95; }
    .row{ display:grid; grid-template-columns: 1fr 1fr; gap:8px; align-items:center; margin:8px 0; }
    .row > label{ font-size:12px; opacity:.95; text-shadow:0 1px 2px rgba(0,0,0,.4); }
    input[type="range"], input[type="checkbox"]{ width:100%; }
    .mono{ font:12px ui-monospace,monospace; opacity:.95; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

    #toggle{
      position:absolute; right:20px; bottom:20px; width:48px; height:48px; border-radius:50%;
      display:grid; place-items:center; background:#10b981; color:#002; font-weight:800; cursor:pointer;
      box-shadow:0 6px 24px rgba(0,0,0,.35);
    }

    /* â–¼B: è¿‘/é ã‚¬ã‚¤ãƒ‰ï¼ˆã‚¢ãƒ¼ãƒ å‰ã®ã¿è¡¨ç¤ºï¼‰ */
    #proxHint{
      position:absolute; left:50%; bottom:18%; transform:translateX(-50%);
      background:rgba(0,0,0,.55); border:1px solid rgba(255,255,255,.25);
      padding:8px 12px; border-radius:12px; font-size:12px; color:#fff; display:none;
      text-align:center;
    }

    @media (max-width:420px){
      #panel{ right:12px; bottom:76px; }
      #startCard{ padding:20px; border-radius:12px; }
    }
  </style>
</head>
<body>
  <div id="stage" aria-label="camera stage">
    <video id="video" autoplay playsinline muted></video>
    <img id="garment" alt="garment" src="public/garments/trainer.png" />

    <!-- PCã‚¢ã‚¯ã‚»ã‚¹æ™‚å°‚ç”¨ï¼ˆQRè‡ªå‹•ç”Ÿæˆï¼‰ -->
    <div id="pcOnly">
      <div class="card">
        <h1>ã‚¹ãƒãƒ›å°‚ç”¨ã§ã™ ğŸ“±</h1>
        <p>ã“ã®ãƒãƒ¼ãƒãƒ£ãƒ«è©¦ç€ã‚½ãƒ•ãƒˆã¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼ˆiOS/Androidï¼‰ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã”åˆ©ç”¨ãã ã•ã„ã€‚</p>
        <img class="qr" id="qrImg" src="" alt="QR to open on phone" loading="lazy" decoding="async">
        <p style="opacity:.8;font-size:12px">ã‚¹ãƒãƒ›ã®ã‚«ãƒ¡ãƒ©ã§QRã‚’èª­ã¿å–ã£ã¦é–‹ã„ã¦ãã ã•ã„ã€‚</p>
      </div>
    </div>

    <div id="startScreen">
      <div id="startCard">
        <h1>ã‚«ãƒ¡ãƒ©ã®æº–å‚™ã‚’ã—ã¾ã™</h1>
        <p>
          ã€Œã‚«ãƒ¡ãƒ©ã‚’é–‹å§‹ã€ã‚’æŠ¼ã™ã¨ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚«ãƒ¡ãƒ©è¨±å¯ã‚’æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚<br>
          åˆæœŸè¨­å®šã¯ã‚¤ãƒ³ã‚«ãƒ¡ãƒ©ãƒ»ãƒŸãƒ©ãƒ¼è¡¨ç¤ºã§ã™ã€‚<br>
          <strong>ç«¯æœ«ã‹ã‚‰ç´„30ã€œ50cmé›¢ã—ã€è‚©ãŒèƒ¸ã¾ã§æ˜ ã‚‹è·é›¢ã§é–‹å§‹ã™ã‚‹ã¨å®‰å®šã—ã¾ã™ã€‚</strong>
        </p>
        <button id="startBtn" class="btn primary">ã‚«ãƒ¡ãƒ©ã‚’é–‹å§‹</button>
        <p class="hint">â€» å³ä¸‹ã®âš™ã§ã€ã‚¢ã‚¦ãƒˆã‚«ãƒ¡ãƒ©ã‚„ãƒŸãƒ©ãƒ¼è¡¨ç¤ºã«åˆ‡ã‚Šæ›¿ãˆã§ãã¾ã™ã€‚</p>
      </div>
    </div>

    <div id="panel" role="dialog" aria-modal="false" aria-label="è¨­å®š">
      <h2>è¨­å®š</h2>
      <div class="row">
        <label>ã‚«ãƒ¡ãƒ©</label>
        <button id="modeBtn" type="button" class="btn ghost" style="padding:8px 10px">ã‚¤ãƒ³ã‚«ãƒ¡ãƒ©èµ·å‹•ä¸­</button>
      </div>
      <div class="row"><label>ãƒŸãƒ©ãƒ¼</label><input id="mirrorChk" type="checkbox" checked /></div>
      <div class="row"><label>æ¨ªä½ç½®ï¼ˆå¾®èª¿æ•´ï¼‰</label><input id="offX" type="range" min="-80" max="80" value="10" /></div>
      <div class="row"><label>ç¸¦ä½ç½®ï¼ˆå¾®èª¿æ•´ï¼‰</label><input id="offY" type="range" min="-120" max="120" value="10" /></div>
      <div class="row"><button id="stopBtn" class="btn ghost">åœæ­¢</button><button id="restartBtn" class="btn ghost">å†èµ·å‹•</button></div>
    </div>

    <!-- â–¼B: è¿‘/é ã‚¬ã‚¤ãƒ‰ï¼ˆã‚¢ãƒ¼ãƒ å‰ã®ã¿ï¼‰ -->
    <div id="proxHint" aria-live="polite" role="status"></div>

    <button id="toggle" title="è¨­å®š">âš™</button>
  </div>

  <script type="module">
    import * as vision from './vendor/mediapipe/vision_bundle.mjs';
    const WASM_BASE = './vendor/mediapipe/wasm/';

    const els = {
      stage: document.getElementById('stage'),
      video: document.getElementById('video'),
      garment: document.getElementById('garment'),
      pcOnly: document.getElementById('pcOnly'),
      qrImg: document.getElementById('qrImg'),
      startScreen: document.getElementById('startScreen'),
      startBtn: document.getElementById('startBtn'),
      toggle: document.getElementById('toggle'),
      panel: document.getElementById('panel'),
      modeBtn: document.getElementById('modeBtn'),
      mirrorChk: document.getElementById('mirrorChk'),
      offX: document.getElementById('offX'),
      offY: document.getElementById('offY'),
      stopBtn: document.getElementById('stopBtn'),
      restartBtn: document.getElementById('restartBtn'),
      proxHint: document.getElementById('proxHint'), // â–¼B
    };

    // ==== ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆæ®ãˆç½®ãï¼‰ ====
    const ALPHA_POS=0.16, ALPHA_SCALE=0.16, ALPHA_BRIGHT=0.35, HOLD_MS=900;
    let ANCHOR_Y_FRAC=0.33, DROP_K=0.147;
    const FIT_GAIN=1.0;

    // è¿‘è·é›¢ã¯å³éè¡¨ç¤ºï¼ˆæ®ãˆç½®ãï¼‰
    const SHOULDER_MIN_FRAC=0.04;
    const SHOULDER_MAX_FRAC=0.82;
    const STABLE_ARM=3;
    const INVALID_GRACE=8;

    let stream=null, facing='user', mirror=true;
    let landmarker=null, fileset=null;
    let lastDetMS=0, smX=null, smY=null, smS=1, smB=1;
    let garmentNatW=0, garmentNatH=0, garmentConf=null, autoDropPx=0;
    let stableCount=0, isArmed=false, invalidCount=0;

    // â–¼B: ã‚¢ãƒ¼ãƒ å‰ã‚¬ã‚¤ãƒ‰ç”¨ã®é–¾å€¤ï¼ˆæ¤œå‡ºæœ¬ä½“ã¨ã¯ç‹¬ç«‹ï¼‰
    let startStable=0;
    const START_MIN_FRAC=0.06, START_MAX_FRAC=0.76, START_ARM=3;
    function showProx(msg){ if(!els.proxHint) return; els.proxHint.textContent=msg||''; els.proxHint.style.display=msg?'block':'none'; }

    // æ˜ã‚‹ã•ã‚µãƒ³ãƒ—ãƒ«
    const _samp = document.createElement('canvas'); _samp.width=32; _samp.height=32;
    const _sctx = _samp.getContext('2d', {willReadFrequently:true});

    // PCåˆ¤å®šï¼†QR
    const isMobile=/Android|iPhone|iPad|iPod/i.test(navigator.userAgent||'');
    if(!isMobile){
      els.pcOnly.style.display='grid';
      els.toggle.style.display='none';        // PCã§ã¯âš™éè¡¨ç¤º
      els.startScreen.style.display='none';   // PCã§ã¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰éè¡¨ç¤º
      const url = location.origin + '/';
      const qr = 'https://api.qrserver.com/v1/create-qr-code/?size=360x360&margin=20&data=' + encodeURIComponent(url);
      if (els.qrImg) els.qrImg.src = qr;
    }

    els.garment.addEventListener('load', ()=>{
      garmentNatW=els.garment.naturalWidth||els.garment.width||1000;
      garmentNatH=els.garment.naturalHeight||els.garment.height||1000;
    });

    const sleep=ms=>new Promise(r=>setTimeout(r,ms));
    const lerp=(a,b,t)=>a+(b-a)*t;

    async function startCamera(){
      try{
        if(stream){ stream.getTracks().forEach(t=>t.stop()); }
        const constraints={ audio:false, video:{ facingMode:facing, width:{ideal:1280}, height:{ideal:720} } };
        stream=await navigator.mediaDevices.getUserMedia(constraints);
        els.video.srcObject=stream;
        await els.video.play().catch(()=>{});
        els.startScreen.style.display='none';
        applyMirror();
        // çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
        smX=null; smY=null; smS=1; smB=1;
        stableCount=0; isArmed=false; invalidCount=0;
        startStable=0; showProx(''); // â–¼B: é–‹å§‹æ™‚ã¯éè¡¨ç¤º
        lastDetMS=0;
        els.garment.style.display='none';
        els.garment.style.opacity='0';
        if(!landmarker){ await initPose(); }
        requestAnimationFrame(tick);
      }catch(err){
        console.error('startCamera error:', err);
        alert('ã‚«ãƒ¡ãƒ©ã®é–‹å§‹ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨±å¯è¨­å®šã‚’ã”ç¢ºèªãã ã•ã„ã€‚');
      }
    }
    async function stopCamera(){ if(stream){ stream.getTracks().forEach(t=>t.stop()); stream=null; } }
    async function restartCamera(){ await stopCamera(); await sleep(80); await startCamera(); }

    async function initPose(){
      const files=await vision.FilesetResolver.forVisionTasks(WASM_BASE);
      fileset=files;
      landmarker=await vision.PoseLandmarker.createFromOptions(fileset,{
        baseOptions:{ modelAssetPath:`${WASM_BASE}pose_landmarker_lite.task` },
        runningMode:'VIDEO', numPoses:1,
        minPoseDetectionConfidence:0.5, minPosePresenceConfidence:0.5, minTrackingConfidence:0.5,
      });
    }

    async function loadGarmentConfig(){
      try{
        const r=await fetch('garments.json',{cache:'no-store'});
        if(!r.ok) throw new Error('HTTP '+r.status);
        const data=await r.json();
        const firstKey=Object.keys(data)[0];
        garmentConf=data[firstKey]||null;
      }catch(e){ console.warn('garments.json èª­è¾¼å¤±æ•—:', e); }
    }

    async function loadPresets(){
      try{
        const r=await fetch('presets.json',{cache:'no-store'});
        if(!r.ok) throw new Error('HTTP '+r.status);
        let txt=await r.text();
        txt=txt.replace(/^\uFEFF/,'').trim();
        if(!txt.startsWith('{')) throw new Error('not JSON (starts with "'+txt.slice(0,20).replace(/\s/g,' ')+'â€¦")');
        JSON.parse(txt);
      }catch(e){ console.warn('presets.json èª­è¾¼å¤±æ•—:', e); }
    }

    function updateGarmentTransform(){
      if(garmentNatW===0||!garmentConf) return;
      let s=1;
      if(updateGarmentTransform._shoulderPX){
        const pxHint=garmentConf.px_chest_hint||980;
        let chestPx=updateGarmentTransform._shoulderPX;
        if(garmentConf.chest_cm && garmentConf.shoulder_cm){
          chestPx*= (garmentConf.chest_cm/garmentConf.shoulder_cm);
        }
        const autoS=(pxHint>0)?(chestPx/pxHint):1;
        s=lerp(1,autoS,FIT_GAIN);
      }
      smS=(smS==null)?s:lerp(smS,s,ALPHA_SCALE);

      const W=els.stage.clientWidth, H=els.stage.clientHeight;
      const cx=updateGarmentTransform._cx ?? (W/2);
      const cy=updateGarmentTransform._cy ?? (H/2);
      smX=(smX==null)?cx:lerp(smX,cx,ALPHA_POS);
      smY=(smY==null)?cy:lerp(smY,cy,ALPHA_POS);

      const w=garmentNatW*smS, h=garmentNatH*smS;
      const shoulderPX = updateGarmentTransform._shoulderPX || 0; // å®‰å…¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
      const desiredY=smY+autoDropPx - ((1-smS) * shoulderPX * 0.13);
      const anchorOffset=(0.5-ANCHOR_Y_FRAC)*h;

      const offX=parseInt(els.offX.value,10)||0;
      const offY=parseInt(els.offY.value,10)||0;

      els.garment.style.width=`${w}px`;
      els.garment.style.left =`${smX+offX}px`;
      els.garment.style.top  =`${desiredY+anchorOffset+offY}px`;
    }

    async function tick(){
      if(!landmarker||!els.video||!els.video.videoWidth){ requestAnimationFrame(tick); return; }
      const W=els.stage.clientWidth, H=els.stage.clientHeight;
      const now=performance.now(); let ok=false, valid=false;
      let tooClose=false;

      try{
        const result=landmarker.detectForVideo(els.video,now);
        const lm=(result.landmarks && result.landmarks[0])?result.landmarks[0]:null;
        if(lm){
          const L=lm[11], R=lm[12];
          if(L&&R){
            let cx=(L.x+R.x)/2*W, cy=(L.y+R.y)/2*H;
            if(mirror){ cx=W-cx; }
            const shoulderPX=Math.abs(R.x-L.x)*W;
            const shoulderFrac=shoulderPX/Math.max(1,W);

            // â–¼B: ã‚¢ãƒ¼ãƒ å‰ã®è·é›¢ã‚¬ã‚¤ãƒ‰ï¼ˆæœ¬ä½“åˆ¤å®šã¨ã¯ç‹¬ç«‹ï¼‰
            if(!isArmed){
              const inStartRange = (shoulderFrac > START_MIN_FRAC && shoulderFrac < START_MAX_FRAC);
              if(inStartRange){
                startStable = Math.min(START_ARM, startStable+1);
                if(startStable >= START_ARM){ showProx(''); }
                else { showProx('ãã®ã¾ã¾ã‚­ãƒ¼ãƒ—â€¦'); }
              }else{
                startStable = 0;
                if(shoulderFrac >= START_MAX_FRAC) showProx('ç«¯æœ«ã‚’å°‘ã—é›¢ã—ã¦ãã ã•ã„ï¼ˆ30ã€œ50cmç›®å®‰ï¼‰');
                else if(shoulderFrac <= START_MIN_FRAC) showProx('ã‚‚ã†å°‘ã—è¿‘ã¥ã„ã¦ãã ã•ã„ï¼ˆ30ã€œ50cmç›®å®‰ï¼‰');
              }
            }

            // è‚©å¹…pxã®ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚°ï¼ˆæ®ãˆç½®ãï¼‰
            const pxSmooth = updateGarmentTransform._shoulderPX;
            const shoulderPXc = Math.min(shoulderPX, W*0.92);
            updateGarmentTransform._shoulderPX = (pxSmooth==null)
              ? shoulderPXc
              : pxSmooth + (shoulderPXc - pxSmooth) * 0.35;

            autoDropPx = updateGarmentTransform._shoulderPX * DROP_K;
            updateGarmentTransform._cx=cx;
            updateGarmentTransform._cy=cy;

            // æœ‰åŠ¹åˆ¤å®šï¼‹è¿‘è·é›¢å³éè¡¨ç¤ºï¼ˆæ®ãˆç½®ãï¼‰
            tooClose = (shoulderFrac >= SHOULDER_MAX_FRAC);
            valid = (shoulderFrac>SHOULDER_MIN_FRAC && shoulderFrac<SHOULDER_MAX_FRAC);

            if(valid){
              // æ˜ã‚‹ã•è¨ˆæ¸¬ï¼ˆæ®ãˆç½®ãï¼‰
              try{
                const vw=els.video.videoWidth, vh=els.video.videoHeight;
                const cxN=(L.x+R.x)/2, cyN=(L.y+R.y)/2;
                const wN=Math.min(Math.abs(R.x-L.x)*1.2, 0.6);
                const hN=wN;
                const sx=(cxN - wN/2)*vw;
                const sy=(cyN - hN*0.55)*vh;
                const sw=wN*vw, sh=hN*vh;

                _sctx.clearRect(0,0,32,32);
                _sctx.drawImage(els.video, sx, sy, sw, sh, 0, 0, 32, 32);
                const buf=_sctx.getImageData(0,0,32,32).data;
                let acc=0;
                for(let i=0;i<buf.length;i+=4){
                  acc += 0.2126*buf[i] + 0.7152*buf[i+1] + 0.0722*buf[i+2];
                }
                const mean=(acc/(32*32))/255;
                const target=Math.max(0.65, Math.min(1.35, 1 + (mean-0.55)*1.20));
                smB = (smB==null)?target : (smB + (target-smB)*ALPHA_BRIGHT);
                els.garment.style.filter = `brightness(${smB.toFixed(3)})`;
              }catch(_){}

              // ã‚¢ãƒ¼ãƒ  & ãƒ‡ãƒã‚¦ãƒ³ã‚¹ï¼ˆæ®ãˆç½®ãï¼‰
              stableCount = Math.min(STABLE_ARM, stableCount+1);
              invalidCount = 0;
              if(stableCount>=STABLE_ARM){
                isArmed=true; ok=true; lastDetMS=now;
                showProx(''); // â–¼B: ã‚¢ãƒ¼ãƒ ã—ãŸã‚‰ãƒ’ãƒ³ãƒˆæ¶ˆå»
              }
            }else{
              if(isArmed){ invalidCount = Math.min(INVALID_GRACE, invalidCount+1); }
            }
          }
        }
      }catch(e){ console.warn('pose detect error:', e); }

      // è¿‘è·é›¢ã¯HOLD/ãƒ‡ãƒã‚¦ãƒ³ã‚¹ç„¡åŠ¹åŒ–ï¼å³éè¡¨ç¤ºï¼ˆæ®ãˆç½®ãï¼‰
      const hold = ((now - lastDetMS) < HOLD_MS) && !tooClose;
      const debouncing = (invalidCount>0 && invalidCount<INVALID_GRACE) && !tooClose;
      const wantShow = isArmed && !tooClose && (ok || hold || debouncing);
      if(!wantShow && invalidCount>=INVALID_GRACE){ stableCount=0; }

      els.garment.style.display = wantShow ? 'block' : 'none';
      els.garment.style.opacity = wantShow ? '1' : '0';

      updateGarmentTransform();
      requestAnimationFrame(tick);
    }

    function applyMirror(){
      els.video.classList.toggle('mirror', mirror);
      els.garment.classList.toggle('mirror', mirror);
    }

    // UIã‚¤ãƒ™ãƒ³ãƒˆ
    els.toggle.addEventListener('click', ()=> els.panel.classList.toggle('open'));
    els.modeBtn.addEventListener('click', async ()=>{
      facing=(facing==='user')?'environment':'user';
      mirror=(facing==='user'); applyMirror();
      els.modeBtn.textContent=(facing==='user')?'ã‚¤ãƒ³ã‚«ãƒ¡ãƒ©èµ·å‹•ä¸­':'ã‚¢ã‚¦ãƒˆã‚«ãƒ¡ãƒ©èµ·å‹•ä¸­';
      await restartCamera();
    });
    els.mirrorChk.addEventListener('change', ()=>{ mirror=!!els.mirrorChk.checked; applyMirror(); });
    ['offX','offY'].forEach(id=> els[id].addEventListener('input', updateGarmentTransform));
    els.startBtn.addEventListener('click', startCamera);
    els.stopBtn.addEventListener('click', stopCamera);
    els.restartBtn.addEventListener('click', restartCamera);
    window.addEventListener('resize', ()=>{ smX=null; smY=null; updateGarmentTransform(); });

    (async ()=>{
      els.mirrorChk.checked=mirror;
      els.modeBtn.textContent='ã‚¤ãƒ³ã‚«ãƒ¡ãƒ©èµ·å‹•ä¸­';
      await loadPresets();
      await loadGarmentConfig();
    })();
  </script>
</body>
</html>
